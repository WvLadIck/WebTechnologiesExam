<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>–ö–∞—Ä—Ç–∞ —É—á–µ–±–Ω—ã—Ö —Ä–µ—Å—É—Ä—Å–æ–≤ –¥–ª—è –∏–∑—É—á–µ–Ω–∏—è –∏–Ω–æ—Å—Ç—Ä–∞–Ω–Ω—ã—Ö —è–∑—ã–∫–æ–≤</title>

<!-- Bootstrap CSS –¥–ª—è navbar -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

<style>
body {
    background-color: #f8f9fa;
    margin: 0;
    padding: 0;
    font-family: Arial, sans-serif;
}

/* Advantages cards */
.advantage-card {
    background-color: #ffffff;
    border-radius: 8px;
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.05);
}

/* Footer links */
.footer-link {
    color: #ffffff;
    text-decoration: none;
}

.footer-link:hover {
    text-decoration: underline;
}

/* Selected tutor highlight (–µ—Å–ª–∏ –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è) */
.tutor-selected {
    background-color: #d1e7dd !important;
}

/* –§–∏–ª—å—Ç—Ä—ã –∏ –∫–∞—Ä—Ç–∞ */
.filters-panel {
    width: 300px;
    background-color: #f5f5f5;
    padding: 20px;
    overflow-y: auto;
    border-right: 1px solid #ddd;
}

.filters-panel h2 {
    color: #333;
    margin-bottom: 20px;
    font-size: 1.2rem;
}

.filter-group {
    margin-bottom: 25px;
}

.filter-group h3 {
    margin-bottom: 12px;
    color: #555;
    font-size: 1rem;
}

.filter-options {
    display: flex;
    flex-direction: column;
    gap: 10px;
}

.filter-option {
    display: flex;
    align-items: center;
    gap: 8px;
    cursor: pointer;
    padding: 8px;
    border-radius: 4px;
    transition: background-color 0.2s;
}

.filter-option:hover {
    background-color: #e0e0e0;
}

.filter-option.active {
    background-color: #e3f2fd;
}

.filter-checkbox {
    width: 16px;
    height: 16px;
    cursor: pointer;
}

.filter-icon {
    width: 24px;
    height: 24px;
    background-color: #e3f2fd;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    color: #2196f3;
    font-size: 12px;
}

.map-container {
    flex: 1;
    height: 100vh;
}
#map {
    width: 100%;
    height: 95%;
}
</style>
</head>
<body>

<!-- Header -->
<header class="bg-dark text-white">
  <nav class="navbar navbar-expand-lg navbar-dark container">
    <a class="navbar-brand d-flex align-items-center" href="#">
      <img src="https://via.placeholder.com/40" alt="–õ–æ–≥–æ—Ç–∏–ø" class="me-2">
      <span>LinguaSpace</span>
    </a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#mainMenu">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="mainMenu">
      <ul class="navbar-nav ms-auto">
        <li class="nav-item"><a class="nav-link" href="index.html">–ì–ª–∞–≤–Ω–∞—è</a></li>
        <li class="nav-item"><a class="nav-link" href="#courses">–ö—É—Ä—Å—ã</a></li>
        <li class="nav-item"><a class="nav-link" href="#tutors">–†–µ–ø–µ—Ç–∏—Ç–æ—Ä—ã</a></li>
        <li class="nav-item"><a class="nav-link" href="profile.html">–õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç</a></li>
        <li class="nav-item"><a class="nav-link  active" href="#">–ú—ã –Ω–∞ –∫–∞—Ä—Ç–µ</a></li>
      </ul>
    </div>
  </nav>
</header>

<div class="container mt-3">
  <div id="alerts"></div>
</div>

<!-- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏ –∏ –∫–∞—Ä—Ç–æ–π -->
<div style="display:flex; height:calc(100vh - 80px);">
    <div class="filters-panel">
        <h2>–§–∏–ª—å—Ç—Ä—ã —Ä–µ—Å—É—Ä—Å–æ–≤</h2>
        <div class="filter-group">
            <h3>–¢–∏–ø—ã —Ä–µ—Å—É—Ä—Å–æ–≤</h3>
            <div class="filter-options">
                <label class="filter-option active" data-filter="educational">
                    <input type="checkbox" class="filter-checkbox" checked>
                    <div class="filter-icon">üéì</div>
                    <span>–û–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã–µ —É—á—Ä–µ–∂–¥–µ–Ω–∏—è</span>
                </label>
                <label class="filter-option active" data-filter="community">
                    <input type="checkbox" class="filter-checkbox" checked>
                    <div class="filter-icon">üë•</div>
                    <span>–û–±—â–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —Ü–µ–Ω—Ç—Ä—ã</span>
                </label>
                <label class="filter-option active" data-filter="library">
                    <input type="checkbox" class="filter-checkbox" checked>
                    <div class="filter-icon">üìö</div>
                    <span>–ü—É–±–ª–∏—á–Ω—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏</span>
                </label>
                <label class="filter-option active" data-filter="private">
                    <input type="checkbox" class="filter-checkbox" checked>
                    <div class="filter-icon">üè´</div>
                    <span>–ß–∞—Å—Ç–Ω—ã–µ —è–∑—ã–∫–æ–≤—ã–µ –∫—É—Ä—Å—ã</span>
                </label>
                <label class="filter-option active" data-filter="cafe">
                    <input type="checkbox" class="filter-checkbox" checked>
                    <div class="filter-icon">‚òï</div>
                    <span>–Ø–∑—ã–∫–æ–≤—ã–µ –∫–∞—Ñ–µ –∏–ª–∏ –∫–ª—É–±—ã</span>
                </label>
            </div>
        </div>
    </div>
    <div class="map-container">
        <div id="map"></div>
    </div>
</div>

<!-- Footer -->
<footer class="bg-dark text-white mt-5 p-4">
  <div class="container text-center">
    <p class="mb-1">–ö–æ–Ω—Ç–∞–∫—Ç—ã: info@linguaspace.ru</p>
    <p class="mb-0">
      <a href="#" class="footer-link">VK</a> |
      <a href="#" class="footer-link">Telegram</a> |
      <a href="#" class="footer-link">YouTube</a>
    </p>
  </div>
</footer>

<!-- –Ø–Ω–¥–µ–∫—Å.–ö–∞—Ä—Ç—ã API -->
<script src="https://api-maps.yandex.ru/2.1/?apikey=6ec90736-0883-4c14-958f-e776a371933d&lang=ru_RU" type="text/javascript"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

<script>
// –î–∞–Ω–Ω—ã–µ —Ä–µ—Å—É—Ä—Å–æ–≤ (–∫–∞–∫ –≤ –ø—Ä–µ–¥—ã–¥—É—â–µ–º –∫–æ–¥–µ)
const resources = [
    { id: 1, name: "–¶–µ–Ω—Ç—Ä –∏–∑—É—á–µ–Ω–∏—è –∏–Ω–æ—Å—Ç—Ä–∞–Ω–Ω—ã—Ö —è–∑—ã–∫–æ–≤ '–õ–∏–Ω–≥–≤–∞'", category: "educational", address: "—É–ª. –õ–µ–Ω–∏–Ω–∞, 25, –æ—Ñ–∏—Å 304", coordinates: [55.751244, 37.618423], hours: "–ü–Ω-–ü—Ç: 9:00-21:00, –°–±: 10:00-18:00", contact: "+7 (495) 123-45-67", description: "–ö—É—Ä—Å—ã –∞–Ω–≥–ª–∏–π—Å–∫–æ–≥–æ, –Ω–µ–º–µ—Ü–∫–æ–≥–æ, —Ñ—Ä–∞–Ω—Ü—É–∑—Å–∫–æ–≥–æ, –∏—Å–ø–∞–Ω—Å–∫–æ–≥–æ –∏ –∫–∏—Ç–∞–π—Å–∫–æ–≥–æ —è–∑—ã–∫–æ–≤.", iconColor: "#2196F3" },
    { id: 2, name: "–ê–Ω–≥–ª–∏–π—Å–∫–∏–π —Ä–∞–∑–≥–æ–≤–æ—Ä–Ω—ã–π –∫–ª—É–± 'English Talk'", category: "cafe", address: "–ø—Ä. –ú–∏—Ä–∞, 15, –∫–∞—Ñ–µ '–ë—Ä–∏–∑'", coordinates: [55.754, 37.62], hours: "–í—Ç, –ß—Ç: 19:00-21:00, –°–±: 16:00-18:00", contact: "+7 (495) 987-65-43", description: "–ü—Ä–∞–∫—Ç–∏–∫–∞ —Ä–∞–∑–≥–æ–≤–æ—Ä–Ω–æ–≥–æ –∞–Ω–≥–ª–∏–π—Å–∫–æ–≥–æ —Å –Ω–æ—Å–∏—Ç–µ–ª—è–º–∏ —è–∑—ã–∫–∞.", iconColor: "#4CAF50" },
    { id: 3, name: "–ì–æ—Ä–æ–¥—Å–∫–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ ‚Ññ3 –∏–º. –î–æ—Å—Ç–æ–µ–≤—Å–∫–æ–≥–æ", category: "library", address: "—É–ª. –ü—É—à–∫–∏–Ω–∞, 8", coordinates: [55.752, 37.615], hours: "–ü–Ω-–°–±: 10:00-20:00, –í—Å: 10:00-18:00", contact: "+7 (495) 555-12-34", description: "–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ —Å –æ—Ç–¥–µ–ª–æ–º –∏–Ω–æ—Å—Ç—Ä–∞–Ω–Ω–æ–π –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä—ã.", iconColor: "#FF9800" },
    { id: 4, name: "–Ø–∑—ã–∫–æ–≤–∞—è —à–∫–æ–ª–∞ '–ü–æ–ª–∏–≥–ª–æ—Ç'", category: "private", address: "—É–ª. –¢–≤–µ—Ä—Å–∫–∞—è, 18, 2 —ç—Ç–∞–∂", coordinates: [55.76, 37.61], hours: "–ü–Ω-–í—Å: 8:00-22:00", contact: "+7 (495) 777-88-99", description: "–ß–∞—Å—Ç–Ω–∞—è —è–∑—ã–∫–æ–≤–∞—è —à–∫–æ–ª–∞, –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ —ç–∫–∑–∞–º–µ–Ω–∞–º.", iconColor: "#9C27B0" },
    { id: 5, name: "–§—Ä–∞–Ω—Ü—É–∑—Å–∫–∏–π –∫—É–ª—å—Ç—É—Ä–Ω—ã–π —Ü–µ–Ω—Ç—Ä '–§–µ–Ω–∏–∫—Å'", category: "community", address: "—É–ª. –ö—É—Ç—É–∑–æ–≤—Å–∫–∏–π –ø—Ä–æ—Å–ø–µ–∫—Ç, 32", coordinates: [55.74, 37.58], hours: "–í—Ç-–°–±: 11:00-20:00", contact: "+7 (495) 222-33-44", description: "–¶–µ–Ω—Ç—Ä —Ñ—Ä–∞–Ω—Ü—É–∑—Å–∫–æ–π –∫—É–ª—å—Ç—É—Ä—ã –∏ —è–∑—ã–∫–∞.", iconColor: "#F44336" },
    { id: 6, name: "–ö–∞—Ñ–µ —è–∑—ã–∫–æ–≤–æ–≥–æ –æ–±–º–µ–Ω–∞ '–ú–æ—Å—Ç'", category: "cafe", address: "—É–ª. –ê—Ä–±–∞—Ç, 44", coordinates: [55.749, 37.59], hours: "–ï–∂–µ–¥–Ω–µ–≤–Ω–æ: 12:00-23:00", contact: "+7 (495) 444-55-66", description: "–ü—Ä–∞–∫—Ç–∏–∫–∞ —Ä–∞–∑–Ω—ã—Ö —è–∑—ã–∫–æ–≤ –≤ –∫–∞—Ñ–µ.", iconColor: "#4CAF50" },
    { id: 7, name: "–£–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç –∏–Ω–æ—Å—Ç—Ä–∞–Ω–Ω—ã—Ö —è–∑—ã–∫–æ–≤", category: "educational", address: "—É–ª. –ë–æ–ª—å—à–∞—è –Ø–∫–∏–º–∞–Ω–∫–∞, 32", coordinates: [55.738, 37.61], hours: "–ü–Ω-–ü—Ç: 8:00-20:00", contact: "+7 (495) 333-22-11", description: "–ö—É—Ä—Å—ã –¥–ª—è –≤—Å–µ—Ö –∂–µ–ª–∞—é—â–∏—Ö.", iconColor: "#2196F3" },
    { id: 8, name: "–ß–∞—Å—Ç–Ω—ã–µ –∫—É—Ä—Å—ã –∫–∏—Ç–∞–π—Å–∫–æ–≥–æ —è–∑—ã–∫–∞ '–í–æ—Å—Ç–æ–∫'", category: "private", address: "—É–ª. –ü—Ä–æ—Ñ—Å–æ—é–∑–Ω–∞—è, 102, –æ—Ñ–∏—Å 15", coordinates: [55.65, 37.53], hours: "–ü–Ω-–°–±: 10:00-22:00", contact: "+7 (495) 666-77-88", description: "–ö—É—Ä—Å—ã –∫–∏—Ç–∞–π—Å–∫–æ–≥–æ —è–∑—ã–∫–∞ —Å –Ω–æ—Å–∏—Ç–µ–ª—è–º–∏.", iconColor: "#9C27B0" }
];

let map;
let placemarks = [];
let activeFilters = ["educational","community","library","private","cafe"];

ymaps.ready(init);

function init() {
    map = new ymaps.Map("map", { center: [55.751244, 37.618423], zoom: 12, controls: ['zoomControl','fullscreenControl'] });
    addPlacemarks();
    setupFilterListeners();
}

function addPlacemarks() {
    placemarks.forEach(pm => map.geoObjects.remove(pm));
    placemarks = [];

    const filteredResources = resources.filter(r => activeFilters.includes(r.category));

    filteredResources.forEach(resource => {
        let iconSymbol;
        switch(resource.category) {
            case 'educational': iconSymbol = 'üéì'; break;
            case 'community': iconSymbol = 'üë•'; break;
            case 'library': iconSymbol = 'üìö'; break;
            case 'private': iconSymbol = 'üè´'; break;
            case 'cafe': iconSymbol = '‚òï'; break;
        }

        const placemark = new ymaps.Placemark(
            resource.coordinates,
            {
                balloonContentHeader: `<strong>${resource.name}</strong>`,
                balloonContentBody: `
                    <div><strong>–ê–¥—Ä–µ—Å:</strong> ${resource.address}</div>
                    <div><strong>–ß–∞—Å—ã —Ä–∞–±–æ—Ç—ã:</strong> ${resource.hours}</div>
                    <div><strong>–ö–æ–Ω—Ç–∞–∫—Ç—ã:</strong> ${resource.contact}</div>
                    <div style="margin-top: 10px;">${resource.description}</div>
                `,
                hintContent: resource.name
            },
            {
                iconLayout: 'default#imageWithContent',
                iconImageHref: 'data:image/svg+xml;charset=utf-8,' + encodeURIComponent(`
                    <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 40 40">
                        <circle cx="20" cy="20" r="18" fill="${resource.iconColor}" opacity="0.9"/>
                        <circle cx="20" cy="20" r="15" fill="white"/>
                        <text x="20" y="26" text-anchor="middle" font-size="14" fill="${resource.iconColor}">${iconSymbol}</text>
                    </svg>
                `),
                iconImageSize: [40,40],
                iconImageOffset: [-20,-20]
            }
        );
        map.geoObjects.add(placemark);
        placemarks.push(placemark);
    });

    if (placemarks.length > 0) {
        const bounds = placemarks.reduce((b, p) => b.extend(p.geometry.getCoordinates()), new ymaps.geometry.LineString([]).getBounds());
        map.setBounds(bounds, { checkZoomRange: true, zoomMargin: 50 });
    }
}

function setupFilterListeners() {
    document.querySelectorAll('.filter-option[data-filter]').forEach(option => {
        const checkbox = option.querySelector('.filter-checkbox');
        const filter = option.getAttribute('data-filter');

        checkbox.addEventListener('change', function() {
            if (this.checked) {
                option.classList.add('active');
                if (!activeFilters.includes(filter)) activeFilters.push(filter);
            } else {
                option.classList.remove('active');
                activeFilters = activeFilters.filter(f => f !== filter);
            }
            addPlacemarks();
        });
    });
}
</script>

</body>
</html>
